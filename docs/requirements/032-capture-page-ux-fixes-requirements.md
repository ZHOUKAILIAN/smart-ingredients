# 032-首页/拍摄页交互与布局修复需求

## 背景
当前首页与拍摄页存在若干体验问题：顶部悬浮图标上浮触顶、使用步骤重复冗余、首屏内容过高导致一屏无法容纳、拍摄页视觉过大，以及“从相册选择”点击无效。  
另外，社区页和历史页加载中的骨架屏样式观感较差，需要统一重设计。

## 目标
- 在不改变核心流程（首页 -> 拍摄 -> OCR）的前提下，完成首页与拍摄页的轻量修复。
- 优先最小改动，保持现有 Figma 风格方向。

## 范围
### 包含
1. 首页品牌大图标上浮时保留顶部安全间距。
2. 首页“使用步骤”精简为 3 步，删除重复项。
3. 收紧首页按钮与上方内容间距，确保常见手机高度下一屏可见主内容与 CTA。
4. 拍摄页空态/已上传态整体尺寸下调，避免“页面太大”。
5. 修复“从相册选择”按钮点击无效问题。
6. 优化相关卡片边框与内边距，统一视觉密度。
7. 重设计社区页与历史页骨架屏，提升加载态质感与一致性。

### 不包含
- 后端接口、OCR/分析逻辑改动。
- 新增页面或新增复杂组件。

## 功能需求

### FR-032-001 首页图标浮动安全间距
- IconSparkles 容器在动画上浮时不与页面顶部贴边。
- 验收标准：
  - [ ] 图标浮动最高点仍保留明显顶部留白。
  - [ ] 不影响现有动画节奏与品牌区结构。

### FR-032-002 首页步骤精简
- “使用步骤”仅保留 3 个唯一步骤（1/2/3），移除重复块。
- 验收标准：
  - [ ] 步骤条目数量固定为 3。
  - [ ] 不存在重复序号和重复文案。

### FR-032-003 首页首屏紧凑化
- 缩小品牌区、步骤卡与 CTA 之间的垂直空白，提升首屏容纳度。
- 验收标准：
  - [ ] 常见移动端高度（约 667px~812px）下，首页主内容与 CTA 无需过度滚动即可看到。
  - [ ] 视觉层级保持清晰，不出现拥挤重叠。

### FR-032-004 拍摄页尺寸优化
- 下调空态图标、卡片和区块间距，减少视觉膨胀。
- 验收标准：
  - [ ] 拍摄页空态信息密度更紧凑。
  - [ ] 上传后预览与按钮区不产生不必要大空白。

### FR-032-005 相册选择可用性修复
- 点击“从相册选择”可稳定唤起文件选择器。
- 验收标准：
  - [ ] 点击次按钮后可打开系统相册/文件选择。
  - [ ] 选择图片后可进入预览态，流程与拍照路径一致。

### FR-032-006 边框与内边距统一
- 对首页/拍摄页关键容器统一边框与 padding，减少松散感。
- 验收标准：
  - [ ] 卡片内边距与边框风格一致，页面整体更规整。
  - [ ] 无明显视觉回归（阴影、圆角、对比度保持协调）。

### FR-032-007 社区/历史骨架屏重设计
- 社区页与历史页在加载态使用统一的卡片骨架屏样式（包含头部、缩略图占位、文本行占位、底部信息占位）。
- 验收标准：
  - [ ] 历史页加载时不再仅显示简陋转圈，改为结构化骨架列表。
  - [ ] 社区页加载时使用与列表结构一致的骨架占位，不再使用“伪空态卡片”充当加载态。
  - [ ] 骨架动画节奏柔和，颜色与当前 emerald/teal 风格一致。
  - [ ] 小屏下骨架不溢出，不抖动。

## 约束
- 以 `frontend/src/pages/capture.rs` 与现有样式文件为主进行修复。
- 保持最小改动，可回滚，易审阅。

## 成功标准
- 上述 7 条 FR 验收项全部满足。
- 前端 `cargo check` 通过。
- 本地服务启动后，完整流程可走通（含上传与 OCR 跳转）。
